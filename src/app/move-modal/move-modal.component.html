<form [formGroup]="form" (ngSubmit)="submit()" autocomplete="off">
  <h2 mat-dialog-title>
    Déplacer un {{titleItem}}
  </h2>
  <mat-divider></mat-divider>
  <mat-dialog-content style="overflow-x: hidden; width:300px;">
    <h4 class="my-2 font-weight-light">Imbriquer sous :</h4>

    <mat-radio-group aria-label="Select a folder" [formControlName]="formControlName">
      <mat-radio-button class="d-flex align-items-center" labelPosition="before" [value]="null" style="height:40px">
        Aucun dossier
      </mat-radio-button>
      <mat-tree tabindex="0" [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding matTreeNodePaddingIndent="8px"
          [matTooltip]="isUpdatingItem(node) ? 'Impossible de déplacer le dossier vers lui même' : ''">
          <button type="button" mat-icon-button *ngIf="node.expandable" [disabled]="isUpdatingItem(node)"
            matTreeNodeToggle disableRipple>
            <mat-icon>
              {{treeControl.isExpanded(node) ? 'arrow_drop_down' : 'arrow_right'}}
            </mat-icon>
          </button>
          <button *ngIf="!node.expandable" mat-icon-button disabled></button>
          <mat-icon class="ml-n2">
            {{treeControl.isExpanded(node) ? 'folder_open' : 'folder'}}
          </mat-icon>
          <mat-radio-button class="ml-2" [value]="node.id" labelPosition="before" [disabled]="isUpdatingItem(node)">
            {{node.name}}
          </mat-radio-button>
        </mat-tree-node>
      </mat-tree>
    </mat-radio-group>

  </mat-dialog-content>
  <mat-divider></mat-divider>
  <mat-dialog-actions align="end">
    <button mat-button color="primary" [disabled]="!form.valid || loading" type="submit">
      <i *ngIf="loading" class="spinner-border spinner-border-sm"></i>
      Confirmer</button>
    <button type="button" mat-button matDialogClose>Fermer</button>
  </mat-dialog-actions>
</form>